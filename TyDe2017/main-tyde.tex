\documentclass[sigplan]{acmart}
\settopmatter{printfolios=true}

%\makeatletter\if@ACM@journal\makeatother
%% Journal information (used by PACMPL format)
%% Supplied to authors by publisher for camera-ready submission
% \acmJournal{PACMPL}
% \acmVolume{1}
% \acmNumber{1}
% \acmArticle{1}
% \acmYear{2017}
% \copyrightyear{2017}
% \acmPrice{15.00}

%%% The following is specific to TyDe'17 and the paper
%%% 'Type Safe Redis Queries: A Case Study of Type-Level Programming in Haskell'
%%% by Ting-Yan Lai, Tyng-Ruey Chuang, and Shin-Cheng Mu.
%%%
\setcopyright{licensedothergov}
\acmDOI{10.1145/3122975.3122978}
\acmISBN{ACM ISBN 978-1-4503-5183-6/17/09}
\acmConference[TyDe'17]{2nd ACM SIGPLAN International Workshop on Type-Driven Development}{September 3, 2017}{Oxford, UK}
\acmYear{2017}
\copyrightyear{2017}
\acmPrice{15.00}

\bibliographystyle{ACM-Reference-Format}

\usepackage{amsmath}
%\usepackage{amsfonts}
%\usepackage{amsthm}
%\usepackage{color}
\usepackage{xcolor}
\usepackage{url}
%\usepackage{mathptmx}
\usepackage{doubleequals}
%\usepackage{makeidx}  % allows for indexgeneration
\usepackage{textcomp} % for single quote
\usepackage{fancyvrb} % for indented verbatim
\usepackage{flushend} % balance columns on last page

\input{Preamble}
\input{macro}

\pagestyle{empty} %no page number
\setlength{\mathindent}{10pt}

\begin{document}

\title{Type Safe Redis Queries}
\subtitle{A Case Study of Type--Level Programming in Haskell}

\author{Ting--Yan Lai}
\authornote{Ting--Yan Lai was a summer intern from
the Inst. of Computer Science and Engineering,
National Chiao Tung Univ., Taiwan,
when part of this work was developed.}
%% \authornote is optional;
\affiliation{
%  \position{Summer Intern}
  \department{Institute of Information Science}
  \institution{Academia Sinica}
  \streetaddress{128, Academia Road, Section 2}
  \city{Nangang, Taipei City}
  \postcode{115}
  \country{Taiwan}
}
\email{banacorn@gmail.com}          %% \email is recommended

\author{Tyng--Ruey Chuang}
\affiliation{
%  \position{Associate Research Fellow}
  \department{Institute of Information Science}
  \institution{Academia Sinica}
  \streetaddress{128, Academia Road, Section 2}
  \city{Nangang, Taipei City}
  \postcode{115}
  \country{Taiwan}
}
\email{trc@iis.sinica.edu.tw}

\author{Shin--Cheng Mu}
\affiliation{
%  \position{Associate Research Fellow}
  \department{Institute of Information Science}
  \institution{Academia Sinica}
  \streetaddress{128, Academia Road, Section 2}
  \city{Nangang, Taipei City}
  \postcode{115}
  \country{Taiwan}
}
\email{scm@iis.sinica.edu.tw}

\begin{abstract}
\Redis{} is an in-memory data structure store, often used as a database, with a
Haskell interface \Hedis{}. \Redis{} is dynamically typed --- a key can be
discarded and re-associated to a value of a different type, and a command,
when fetching a value of a type it does not expect, signals a runtime error. We
develop a domain-specific language that, by exploiting Haskell type-level
programming techniques including indexed monad, type-level literals and closed
type families, keeps track of types of values in the database and statically
guarantees that type errors cannot happen for a class of \Redis{} programs.
\end{abstract}

\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10011007.10011006.10011008.10011009.10011012</concept_id>
<concept_desc>Software and its engineering~Functional languages</concept_desc>
<concept_significance>500</concept_significance>
</concept>
<concept>
<concept_id>10011007.10011006.10011050.10011017</concept_id>
<concept_desc>Software and its engineering~Domain specific languages</concept_desc>
<concept_significance>300</concept_significance>
</concept>
<concept>
<concept_id>10002951.10002952.10003197</concept_id>
<concept_desc>Information systems~Query languages</concept_desc>
<concept_significance>300</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}

\ccsdesc[500]{Software and its engineering~Functional languages}
\ccsdesc[300]{Software and its engineering~Domain specific languages}
\ccsdesc[300]{Information systems~Query languages}

\keywords{Haskell, Redis, Type-Level Programming, Type Safety, Key-Value Store}

\maketitle
\thispagestyle{empty}

\input{sections/Introduction}
\input{sections/IndexedMonads}
\input{sections/TypeLevelDict}
\input{sections/Embedding}
\input{sections/Discussions}
\input{sections/Conclusions}

\bibliography{cites}

\end{document}
